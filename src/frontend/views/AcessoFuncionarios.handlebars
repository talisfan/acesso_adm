<head>
    <title>FUNCIONÁRIOS</title>
</head>

<body>
    <div class="text-center lead text-primary mb-4" style="font-size: 35px;">Mostrando todos Funcionários</div>
    <div id="resultados">

    <script>        
        (()=>{
                // pega endereço atual da page
                let location = window.location.href;
                
                fetch(location + "/getAll").then( async (result)=>{

                    if(!result) return;

                    result = await result.json()

                    let element = window.document.getElementById("resultados");                
                    let conteudo = '';                                        

                    result.forEach((obj)=>{
                        conteudo += 
                            `<div class="ml-5">
                                <div class="row mx-auto">
                                    <h3 class="lead mt-2 mr-auto " style="font-size: 25px;">ID: ${obj.id} </h3>
                                    <h3 class="lead mt-2 ml-auto mr-5" style="font-size: 25px;">Nome: ${obj.nome} </h3>
                                </div>
                                <div class="row mx-auto
                                    <h3 class="lead mt-2 mr-auto" style="font-size: 20px;">ID Departamento: ${obj.idDepart} </h3>
                                    <h3 class="lead mt-2 ml-auto mr-5" style="font-size: 20px;">Departamento: ${obj.nomeDepart} </h3>
                                </div>
                                <h3 class="lead mt-2" style="font-size: 25px;">E-mail: ${obj.email} </h3>
                                <h3 class="lead mt-2" style="font-size: 25px;">Telefone: ${obj.telefone} </h3>
                                <h3 class="lead mt-2" style="font-size: 25px;">Acesso: ${obj.acesso} </h3>
                            </div>

                            <a href="/alterarFunc/${obj.id}/${obj.nome}/${obj.email}/${obj.telefone}/${obj.idDepart}"
                             class="text-decoration-none mt-3 row"> <input type="button" value="EDITAR" class="mx-auto col-10 btn btn-light"> </a>                            
                            <h1 class="mx-5 mt-3" style="border: 1px solid gray;"></h1>`
                        ;
                    });

                    element.innerHTML = conteudo;
                });
            }
        )()
    </script>

    </div>
    <div class="text-center mt-3"> <a href="/" style="font-size: 25px;">VOLTAR</a> </div>
</body>